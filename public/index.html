<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>GES</title>
    <script type="text/javascript"
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB-hH8Oe7r8Uu5n51O2E-r0962S94JB-eM&libraries=places"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script type="text/javascript" src="scripts/transports.js"></script>
    <script type="text/javascript" src="scripts/logement.js"></script>
    <script type="text/javascript" src="scripts/alimentation.js"></script>
    <script type="text/javascript" src="scripts/consommation.js"></script>
    <script type="text/javascript" src="scripts/resultats.js"></script>
    <link rel="stylesheet" href="styles/transports.css">
    <link rel="stylesheet" href="styles/logement.css">
    <link rel="stylesheet" href="styles/alimentation.css">
    <link rel="stylesheet" href="styles/consommation.css">
    <link rel="stylesheet" href="styles/header.css">
    <link rel="stylesheet" href="styles/header-modes.css">
    <link rel="stylesheet" href="styles/methodologie.css">
</head>

<body>
    <header>
        <p class="logo">CO2</p>
        <button class="menu-item" id="nav-form" onclick="toggleNav()">Calculateur</button>
        <button class="menu-item" id="nav-methodologie" onclick="toggleNav()">M√©thodologie</button>
    </header>
    <section class="main-form">
        <div class="header-modes">
            <input type="button" id="header-modes-accueil" value="Accueil" onclick="toggleMode()">
            <input type="button" id="header-modes-transport" value="Transports" onclick="toggleMode()">
            <input type="button" id="header-modes-logement" value="Logement" onclick="toggleMode()">
            <input type="button" id="header-modes-alimentation" value="Alimentation" onclick="toggleMode()">
            <input type="button" id="header-modes-consommation" value="Consommation" onclick="toggleMode()">
            <input type="button" id="header-modes-resultats" value="R√©sultats" onclick="toggleMode()">
        </div>
        <div id="content-form">
            <div id="form-accueil" class="main-form-content">
                <h2>Estimez votre empreinte carbone ! üçÉ</h2>
                <p>Si de plus en plus de personnes souhaitent modifer leurs habitudes de consommation pour faire face au changement climatique, il n'est pas facile de savoir par o√π commencer tant le probl√®me est complexe. Comme presque toutes nos activit√©s sont √©mettrices de gaz √† effet de serre on ne sait pas toujours si un changement dans nos habitudes aura vraiment un impact et si on ne devrait pas mieux concentrer nos efforts sur autre chose.</p>
                <p>Ce questionnaire va vous permettre d'estimer votre empreinte carbone annuelle en fonction de 4 cat√©gories: le transport, le logement, l'alimentation et vos habitudes de consommation. Pour chaque cat√©gorie vous saurez quel poste emet le plus : le vol Paris/New-York de vos derni√®res vacances ou le fait que vous alliez travailler tous les jours en voiture ?</p>
                <p>En vous permettant d'identifier vos principaux postes d'√©missions de gaz √† effet de serre nous esp√©rons que ce calculateur vous permettra de plus facilement choisir par quelle habitudes commencer !</p>
                <p>Pour toute question concernant nos calculs vous pouvez consulter notre page <em>M√©thodologie</em>.</p>
            </div>
            <div id="form-transport" class="main-form-content"></div>
            <div id="form-logement" class="main-form-content"></div>
            <div id="form-alimentation" class="main-form-content"></div>
            <div id="form-consommation" class="main-form-content"></div>
            <div id="form-resultats" class="main-form-content"></div>
        </div>
        <div id="content-methodologie">
            <div id="methodologie-accueil" class="methodologie-content">
                <h2>En travaux üîß</h2>
            </div>
            <div id="methodologie-transport" class="methodologie-content">
                <h2>√âmissions des transports</h2>
                    <p>Lorsque nous regardons ce que nous √©mettons lors d'un d√©placement nous devons prendre en compte deux aspects:</p>
                    <ul>
                        <li>la distance parcourue (en km),</li>
                        <li>et l'intensit√© carbone du mode de transport utilis√© (en g de CO2/km).</li>
                    </ul>
                    <p>Mais lorsque nous nous int√©ressons √† notre impact annuel il convient de distinguer nos trajets <strong>r√©guliers</strong> (domicile-travail notamment), qui s'ils n'√©mettent pas √©norm√©ment individuellement peuvent repr√©senter une part importante une fois agr√©g√©s; et nos trajets <strong>occasionnels</strong> (pour les vacances notamment).</p>
                    <p>Les parties suivantes pr√©sentent donc comment les distances sont calcul√©es pour chaque mode de transport, quels facteurs d'√©missions sont utilis√©s pour chaque mode de transport, et enfin comment les trajets r√©guliers et occasionnels sont trait√©s.</p>
                <h2>Comment calculons-nous les distances parcourues ?</h2>
                    <p>Quel que soit le mode de transport utilis√©, chaque calcul de trajet commence par r√©cup√©rer les lieux de d√©part et d'arriv√©e via l'API <a href="https://cloud.google.com/maps-platform/places/">Places</a> de Google Maps. Une fois ces lieux r√©cup√©r√©s nous pouvons facilement obtenir leurs coordonn√©es ou utiliser d'autres API pour calculer des distances.</p>
                    <h3>Voiture, car, v√©lo</h3>
                        <p>Ces modes de transport sont les plus simples √† traiter puisque il suffit de calculer la longueur de la route reliant les points de d√©part et d"arriv√©e, ce qui est fait via l'API <a href="https://cloud.google.com/maps-platform/routes/">Routes</a> de Google Maps.</p>
                    <h3>Transports en commun</h3>
                        <p>Les trajets en transports en commun ont cela de plus compliqu√© qu'ils sont souvent multimodaux, c'est-√†-dire que plusieurs mode de transport diff√©rents sont utilis√©s. La distance totale doit donc √™tre subdivis√©e par mode de transport, chaque partie contribuant aux √©missions totales du trajet suivant l'intensit√© de son mode de transport. Les diff√©rentes √©tapes du trajet sont retourn√©es par l'API <a href="https://cloud.google.com/maps-platform/routes/">Routes</a> de Google Maps.</p>
                    <h3>TGV</h3>
                        <p>Les trajets en train se font de gare √† gare et les distances retourn√©es par l'API <a href="https://cloud.google.com/maps-platform/routes/">Routes</a> de Google Maps.</p>
                    <h3>Avion</h3>
                        <p>√Ä l'inverse des modes pr√©c√©dents qui doivent utiliser un r√©seau existant pour se d√©placer (r√©seau routier ou ferroviaire), l'avion permet lui de rallier sa destination en ligne droite. En partant des coordonn√©es retourn√©es de d√©part et de destination on peut calculer la distance la plus courte sur une sph√®re ou <a href="https://fr.wikipedia.org/wiki/Distance_du_grand_cercle">distance du grand cercle</a>.</p>
                        <p>Pour tenir compte des √©ventuelles √©mission hors vol (temps de taxi par exemple), la distance du grand cercle est corrig√©e comme recommand√© par <a href="https://www.icao.int/environmental-protection/CarbonOffset/Documents/Methodology%20ICAO%20Carbon%20Calculator_v10-2017.pdf">l'ICAO</a>.</p>
                <h2>Quels facteurs d'√©missions utilisons-nous ?</h2>
                    <p>Afin de pouvoir comparer entre eux les diff√©rents modes de transport on utilise le facteur d'√©mission en g de CO2 par km et par passager. Ce facteur va d√©pendre:</p>
                    <ul>
                        <li>de la consommation en carburant du v√©hicule (voiture, avion, etc.), en kg de carburant par km,</li>
                        <li>de la quantit√© de CO2 √©mise lors de la combustion du carburant (en kg de CO2 par kg de carburant),</li>
                        <li>et du nombre de passagers dans le v√©hicule ou de la fr√©quentation moyenne.</li>
                    </ul>
                    <p>Estimer correctement tous ces param√®tres est une tache complexe aussi nous nous basons sur <a href="http://www.basecarbone.fr/">la base carbone</a> √©tablie par l'ADEME afin d'avoir des donn√©es coh√©rentes entre elles.</p>
                    <table>
                        <caption>Facteurs d'√©missions (source: <a href="http://www.basecarbone.fr/">Base carbone ADEME</a>)</caption>
                        <thead>
                            <tr>
                                <th scope="col">Mode de transport</th>
                                <th scope="col">Facteur d'√©missions <br> (gCO2/km)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">Avion</th>
                                <td>249.5</td>
                            </tr>
                            <tr>
                                <th scope="row">M√©tro</th>
                                <td>5.7</td>
                            </tr>
                            <tr>
                                <th scope="row">Tram</th>
                                <td>6</td>
                            </tr>
                            <tr>
                                <th scope="row">TGV</th>
                                <td>3.6</td>
                            </tr>
                            <tr>
                                <th scope="row">RER</th>
                                <td>8.9</td>
                            </tr>
                            <tr>
                                <th scope="row">Bus (urbain)</th>
                                <td>95.6</td>
                            </tr>
                            <tr>
                                <th scope="row">Autocar</th>
                                <td>154</td>
                            </tr>
                            <tr>
                                <th scope="row">Voiture</th>
                                <td>280.5</td>
                            </tr>
                        </tbody>
                    </table>
                <h2>Trajets r√©guliers <em>vs.</em> trajets occasionnels</h2>
                    <p>Pour des questions d'experience utilisateur nous avons choisi de diff√©rencier les trajets r√©guliers des trajets occasionnels, afin de vous √©viter de devoir pr√©ciser que vous avez fait 197 fois votre trajets domicile/travail dans l'ann√©e. La semaine nous a sembl√© √™tre la bonne unit√© de temps car cela permet de prendre en compte des situation vari√©es (travail √† temps plein/temps partiels, jours de t√©l√©travail, activit√©s hebdomadaires, etc.).</p>
                    <p>Une fois votre semaine type renseign√©e nous calculons les emissions de tous vos trajets et nous multiplions le total par <strong>44 semaines</strong> afin prendre en compte <a href="https://dares.travail-emploi.gouv.fr/dares-etudes-et-statistiques/etudes-et-syntheses/dares-analyses-dares-indicateurs-dares-resultats/article/les-conges-payes-et-jours-de-rtt">le nombre moyen de jours de cong√©s/RTT</a>.</p>
                    <p>Quand aux trajets occasionnels nous calculons simplement les emissions de chaque trajet.</p>
            </div>
            <div id="methodologie-logement" class="methodologie-content">
                <h2>√âmissions li√©es au logement</h2>
                    <p>La consommation √©nerg√©tique d'un logement (et donc ses √©missions) peuvent √™tre class√©es en deux cat√©gories:</p>
                    <ul>
                        <li>celles li√©es au chauffage (qu'il soit au gaz ou √† l'√©lectricit√©),</li>
                        <li>et le reste des consommations √©lectriques (√©lectrom√©nager, √©clairage, etc.).</li>
                    </ul>
                    <p>La m√©thode la plus fiable est de se baser sur les factures de vos fournisseurs de gaz et d'√©l√©ctricit√© qui vous donneront vos consommations √©xactes de gaz et d'√©lectricit√© en kWh. Une fois vos consommations connues il nous suffit de les multiplier par les facteur d'√©missions du syst√®me √©lectrique fran√ßais et du gaz pour obtenir vous √©missions de CO2.</p>
                <h2>Facteur d'√©mission de l'√©lectricit√©</h2>
                    <p>Pour calculer le facteur d'√©mission de CO2 du secteur √©lectrique fran√ßais nous utilisons les <a href="https://www.rte-france.com/fr/article/bilans-electriques-nationaux"> bilans √©lectriques nationaux de RTE</a>. Ces bilans donnent la production √©lectrique totale de toutes les fili√®res de production en TWh ainsi que la quantit√© √©mise de CO2 en MT, le ratio des deux permettant d'obtenir le facteur d'√©mission moyen pour le syst√®me √©lectrique.</p>
                    <p>Ce facteur d'√©missions pouvant varier d'une ann√©e √† l'autre (hiver plus ou moins doux, disponibilit√© des parcs hydraulique et nucl√©aire, etc.) nous avons pris la moyenne des facteurs d'√©missions annuels depuis 2010 pour obtenir une valeur de <strong>49 kgCO2/MWh</strong>.</p>
                <h2>Facteur d'√©mission du gaz naturel</h2>
                    <p><a href="https://www.grdf.fr/institutionnel/role-transition-ecologique/energie-avenir/energie-respect-environnement">GRDF</a> donne pour du gaz naturel un facteur d'√©missions de <strong>234 kgCO2/MWh</strong>.</p>
                <h2>Pour aller plus loin</h2>
                    <ul>
                        <li>Comprendre ses relev√©s de compteurs gaz et √©lectricit√© sur <a href="https://www.energie-info.fr/fiche_pratique/releve-des-compteurs-et-calcul-de-la-consommation/">energie-info.fr</a></li>
                        <li>Comprendre le coefficient de conversion pour le gaz naturel sur <a href="https://www.grdf.fr/particuliers/coefficient-conversion-commune">grdf.fr</a></li>
                        <li>Le site de la Commission de R√©gulation de l'Energie (<a href="https://www.cre.fr/">cre.fr</a>).</li>
                    </ul>
            </div>
            <div id="methodologie-alimentation" class="methodologie-content">
                <h2>√âmissions li√©es √† l'alimentation</h2>
                <p>Le secteur de l'agroalimentaire repr√©sente <a href="http://multimedia.ademe.fr/animations/alimentation/">une part importante</a> des √©missions de gaz √† effet de serre en France. Les √©missions ont lieu lors de <a href="https://www.ademe.fr/manger-mieux-gaspiller-moins">quatre phases</a>: la production (√©levage, agriculture), la transformation, la distribution (transport, chaine du froid) et l'utilisation finale (conservation, cuisson).</p>
                <p>Les √©missions de chaque aliment vont donc d√©pendre du type d'aliment (viande, c√©r√©ales, l√©gumes), du mode de production (fruit et l√©gumes de saison, culture en serre) et du transport (production locale ou non).</p>
                <p>Les donn√©es de la base <a href="http://www.bilans-ges.ademe.fr/fr/actualite/actualite/detail/id/23">Food'GES</a> montrent que la phase "amont agricole" est de loin la plus √©mettrice. C'est pourquoi nous avons choisi d'utiliser les r√©gimes alimentaires comme crit√®re distinctif. Chaque r√©gime alimentaire remplit les besoins nutritifs quotidiens n√©cessaires avec diff√©rents types d'aliments:</p>
                <ul>
                    <li>le r√©gime omnivore (assiette moyenne fran√ßaise) fait la part belle aux produits carn√©s et d'origine animale ainsi qu'aux produits transform√©s.</li>
                    <li>le r√©gime <a href="https://www.wwf.fr/sites/default/files/doc-2017-11/171109_rapport_vers_une_alimentation_bas_carbone_saine_abordable_0.pdf">fl√©xitarien</a> tend √† r√©duire la part d'origine animale pour favoriser les l√©gumes, c√©r√©ales et l√©gumineuses.</li>
                    <li>le r√©gime v√©g√©tarien exclue tout produit d'origine animale.</li>
                </ul>
                <p>Le tableau suivant regroupe les facteurs d'√©missions utilis√©s pour les diff√©rents r√©gimes. Ces facteurs excluent le transport depuis le magasin (√©missions d√©j√† couvertes dans votre rubrique <em>Transports</em>) et la conversation et cuisson chez vous (√©missions d√©j√† couvertes dans votre rubrique <em>Logement</em>)</p>
                <table>
                    <caption>Emissions par type de r√©gimes alimentaires (source <a href="http://www.bilans-ges.ademe.fr/fr/accueil/documentation-gene/index/page/Repas">Base Carbone ADEME</a>, hors cuisson et gestion des d√©chets).</caption>
                    <thead><tr>
                        <th scope="col">R√©gime</th>
                        <th scope="col">Facteur d'√©missions <br> (kgCO2/jour)</th>
                    </tr></thead>
                    <tbody>
                        <tr>
                            <th scope="row">R√©gime omnivore</th>
                            <td>4.474</td>
                        </tr>
                        <tr>
                            <th scope="row">R√©gime fl√©xitarien</th>
                            <td>2.817</td>
                        </tr>
                        <tr>
                            <th scope="row">R√©gime v√©g√©tarien</th>
                            <td>1.9</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div id="methodologie-consommation" class="methodologie-content">
                <h2>En travaux üîß</h2>
            </div>
            <div id="methodologie-resultats" class="methodologie-content">
                <h2>En travaux üîß</h2>
            </div>
        </div>
        
    </section>
</body>

<script>
    const transport = new Transport('form-transport')
    const logement = new Logement('form-logement')
    const alimentation = new Alimentation('form-alimentation')
    const consommation = new Consommation('form-consommation')
    const resultats = new Resultats('form-resultats', transport, logement, alimentation, consommation)

    const button_nav = document.getElementById("nav-form")
    button_nav.click()
    const button_mode = document.getElementById("header-modes-accueil")
    button_mode.click()

    function toggleNav() {
        const div_form = document.getElementById("content-form")
        const button_form = document.getElementById("nav-form")
        const div_methodo = document.getElementById("content-methodologie")
        const button_methodo = document.getElementById("nav-methodologie")
        if (event.target.id === "nav-form") {
            div_form.classList.remove("disp-none")
            button_form.classList.add("menu-item-current")
            div_methodo.classList.add("disp-none")
            button_methodo.classList.remove("menu-item-current")
        } else {
            div_form.classList.add("disp-none")
            button_form.classList.remove("menu-item-current")
            div_methodo.classList.remove("disp-none")
            button_methodo.classList.add("menu-item-current")
        }
    }

    function toggleMode() {
        var modes = [
            "header-modes-accueil",
            "header-modes-transport",
            "header-modes-logement",
            "header-modes-alimentation",
            "header-modes-consommation",
            "header-modes-resultats"
        ]
        modes.forEach((value) => {
            mode = value.split("-")[2]
            let mode_button = document.getElementById(value)
            let form_mode = document.getElementById("form-" + mode)
            let methodo_mode = document.getElementById("methodologie-" + mode)
            if(value === event.target.id) {
                mode_button.classList.add("header-modes-active")
                form_mode.classList.remove("disp-none")
                methodo_mode.classList.remove("disp-none")
            } else {
                mode_button.classList.remove("header-modes-active")
                form_mode.classList.add("disp-none")
                methodo_mode.classList.add("disp-none")
            }
        })
    }
</script>

</html>
