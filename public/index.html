<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>GES</title>
    <script type="text/javascript"
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB-hH8Oe7r8Uu5n51O2E-r0962S94JB-eM&libraries=places"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script type="text/javascript" src="scripts/transports.js"></script>
    <script type="text/javascript" src="scripts/logement.js"></script>
    <script type="text/javascript" src="scripts/resultats.js"></script>
    <link rel="stylesheet" href="styles/transports.css">
    <link rel="stylesheet" href="styles/logement.css">
    <link rel="stylesheet" href="styles/header.css">
    <link rel="stylesheet" href="styles/main-form.css">
    <link rel="stylesheet" href="styles/methodologie.css">
</head>

<body>
    <header>
        <p class="logo">CO2</p>
        <a class="menu-item menu-item-current" href="#top">Calculateur</a>
        <a class="menu-item" href="methodologie.html" target="_blank">Méthodologie</a>
    </header>
    <section class="main-form">
        <div class="main-form-header">
            <input type="button" id="form-mode-accueil" value="Accueil" onclick="toggleMode()">
            <input type="button" id="form-mode-transport" value="Transports" onclick="toggleMode()">
            <input type="button" id="form-mode-logement" value="Logement" onclick="toggleMode()">
            <input type="button" id="form-mode-alimentation" value="Alimentation" onclick="toggleMode()">
            <input type="button" id="form-mode-consommation" value="Consommation" onclick="toggleMode()">
            <input type="button" id="form-mode-resultats" value="Résultats" onclick="toggleMode()">
        </div>
        <div id="accueil" class="main-form-content">
            <h1>Estimez votre empreinte carbone</h1>
            <p>Questionnaire en 4 parties:</p>
            <ul>
                <li>Tranposrts</li>
                <li>Logement</li>
                <li>Alimentation</li>
                <li>Consommation</li>
            </ul>
            <p>Comparer votre empreinte avec les moyennes française et mondiale !</p>
        </div>
        <div id="transport" class="main-form-content"></div>
        <div id="logement" class="main-form-content"><p>WORK IN PROGRESS</p></div>
        <div id="alimentation" class="main-form-content"><p>WORK IN PROGRESS</p></div>
        <div id="consommation" class="main-form-content"><p>WORK IN PROGRESS</p></div>
        <div id="resultats" class="main-form-content"></div>
    </section>
</body>

<script>
    let transport = new Transport('transport')
    let logement = new Logement('logement')
    let resultats = new Resultats('resultats', transport, logement)

    var button = document.getElementById("form-mode-logement")
    button.click()

    function toggleMode() {
        var modes = [
            "form-mode-accueil",
            "form-mode-transport",
            "form-mode-logement",
            "form-mode-alimentation",
            "form-mode-consommation",
            "form-mode-resultats"
        ]
        modes.forEach((value) => {
            mode = value.split("-")[2]
            let mode_button = document.getElementById(value)
            let mode_div = document.getElementById(mode)
            if(value === event.target.id) {
                mode_button.classList.add("main-form-header-active")
                mode_div.classList.remove("disp-none")
            } else {
                mode_button.classList.remove("main-form-header-active")
                mode_div.classList.add("disp-none")
            }
        })
    }
</script>

</html>