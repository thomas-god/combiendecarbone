<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>GES</title>
    <script type="text/javascript"
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB-hH8Oe7r8Uu5n51O2E-r0962S94JB-eM&libraries=places"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script type="text/javascript" src="http://127.0.0.1:5500/scripts/transports.js"></script>
    <script type="text/javascript" src="http://127.0.0.1:5500/scripts/resultats.js"></script>
    <link rel="stylesheet" href="http://127.0.0.1:5500/styles/transports.css">
    <link rel="stylesheet" href="http://127.0.0.1:5500/styles/header.css">
    <link rel="stylesheet" href="http://127.0.0.1:5500/styles/main-form.css">
</head>

<body>
    <header>
        <p class="logo">CO2</p>
        <a class="menu-item" href="#top">Calculateur</a>
        <a class="menu-item" href="#top">Méthodologie</a>
    </header>
    <section>
        <div class="main-form">
            <div class="main-form-header">
                <input type="button" id="form-mode-transport" value="Transports" onclick="toggleMode()">
                <input type="button" id="form-mode-logement" value="Logement" onclick="toggleMode()">
                <input type="button" id="form-mode-alimentation" value="Alimentation" onclick="toggleMode()">
                <input type="button" id="form-mode-consommation" value="Consommation" onclick="toggleMode()">
                <input type="button" id="form-mode-resultats" value="Résultats" onclick="toggleMode()">
            </div>
            <div id="transport"></div>
            <div id="logement"><p>WORK IN PROGRESS</p></div>
            <div id="alimentation"><p>WORK IN PROGRESS</p></div>
            <div id="consommation"><p>WORK IN PROGRESS</p></div>
            <div id="resultats"></div>
        </div>
    </section>
</body>

<script>
    let transport = new Transport('transport')
    let resultats = new Resultats('resultats', transport)

    var buttonTransport = document.getElementById("form-mode-transport")
    buttonTransport.click()

    function toggleMode() {
        var modes = [
            "form-mode-transport",
            "form-mode-logement",
            "form-mode-alimentation",
            "form-mode-consommation",
            "form-mode-resultats"
        ]
        modes.forEach((value) => {
            mode = value.split("-")[2]
            let mode_button = document.getElementById(value)
            let mode_div = document.getElementById(mode)
            if(value === event.target.id) {
                mode_button.classList.add("main-form-header-active")
                mode_div.classList.remove("disp-none")
            } else {
                mode_button.classList.remove("main-form-header-active")
                mode_div.classList.add("disp-none")
            }
        })
    }
</script>

</html>